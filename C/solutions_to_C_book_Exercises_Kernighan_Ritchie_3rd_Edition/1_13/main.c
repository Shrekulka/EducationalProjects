// Упражнение 1.13. Напишите программу, печатающую гистограммы длин вводимых слов. Гистограмму легко рисовать
// горизонтальными полосами. Рисование вертикальными полосами — более трудная задача.

#include <stdio.h>

int main()
{
	const int SIZE = 21;         // Максимальная длина слова для анализа
	int currentChar = 0;         // Переменная для текущего символа
	int currentLength = 0;       // Длина текущего слова
	int wordLengths[SIZE] = { 0 }; // Массив для счетчиков длин слов

	while ((currentChar = getchar()) != EOF) // Читаем символы до конца файла
	{
		if (currentChar == 'q') break; // Выход из программы при вводе 'q'

		if (currentChar == ' ' || currentChar == '\n' || currentChar == '\t') // Проверяем разделители слов
		{
			if (currentLength >= 0 && currentLength < SIZE) // Убеждаемся, что длина слова находится в допустимых пределах
			{
				++wordLengths[currentLength]; // Увеличиваем счетчик для текущей длины слова
			}
			else if (currentLength >= SIZE) // Если длина слова больше максимально допустимой
			{
				++wordLengths[SIZE - 1]; // Увеличиваем счетчик для максимальной длины слова
			}
			currentLength = 0; // Сбрасываем счетчик длины текущего слова
		}
		else
		{
			++currentLength; // Увеличиваем счетчик длины текущего слова
		}
	}

	// Выводим гистограмму
	printf("Гистограмма длин слов:\n");
	for (int i = 1; i < SIZE; ++i) // Проходимся по всем возможным длинам слов (от 1 до SIZE-1)
	{
		printf("%2d |", i); // Выводим длину слова (по строкам)
		for (int j = 0; j < wordLengths[i]; ++j) // Выводим звездочки для каждого слова данной длины
		{
			putchar('*');
		}
		printf("\n"); // Переходим на новую строку для следующей длины слова
	}

	return 0;
}
